# 🚀 Hybrid Embedding (混合向量服务) 验证清单

本清单用于验证 Phase C2 (云端 API) 与 Phase C3 (本地回退) 的协同工作情况。

---

## 🛠️ 第一步：环境检查

在 [管理面板](http://localhost:5900/) 中确保：

- [ ] **Embedding API** 状态为 `Running`
- [ ] **Capsule API** 状态为 `Running`
- [ ] **Anchor Editor** 状态为 `Running`
- [ ] 点击 **Capsule API** 的 `Logs` 按钮（保持窗口打开）

---

## 🌐 第二步：云端优先模式 (Cloud First)

- [ ] **动作**：在胶囊库前端（通常是主应用界面），点击任意胶囊标签 (Tag) 或移动坐标。
- [ ] **检查日志**：`Capsule API` 日志中是否出现以下字样？
  - `🌐 尝试云端计算: [...]`
  - `✅ 云端计算成功: [...]`
- [ ] **结论**：看到以上日志即代表云端服务调用成功。

---

## 💻 第三步：本地降级验证 (Local Fallback)

- [ ] **动作**：在管理面板中，点击 **Embedding API** 的 `Stop Process` 按钮。
- [ ] **动作**：回到前端，再次点击或移动一个标签。
- [ ] **检查日志**：`Capsule API` 日志中是否出现以下流程？
  - `🌐 尝试云端计算: [...]`
  - `❌ 连接失败` 或 `⏱️ 云端超时`
  - `⚠️ 云端失败，降级到本地`
  - `✅ 本地模型加载成功` (仅限首次)
  - `💻 使用本地计算: [...]`
- [ ] **结论**：看到“降级到本地”即代表离线兜底逻辑生效。

---

## 🔄 第四步：恢复自动检测

- [ ] **动作**：在管理面板中重新 `Start` **Embedding API**。
- [ ] **动作**：在前端操作。
- [ ] **检查日志**：日志是否自动恢复为 `✅ 云端计算成功`？
- [ ] **结论**：这证明了系统能够动态感知云端服务的恢复。

---

## 📈 今日其他待 Check 项 (待补充)

- [ ] ...
